# Default values for vantage-kubernetes-agent.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

image:
  repository: "quay.io/vantage-sh/kubernetes-agent"
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: ""

agent:
  debug: false
  # logLevel corresponds to https://pkg.go.dev/log/slog#Level
  # Info: 0
  # Debug: -4
  logLevel: "0"
  # Unique identifier for your cluster.
  clusterID: ""
  # Vantage API Token
  token: ""

persist:
  mountPath: "/var/lib/vantage-agent"
  name: "data"
  size: "10Gi"

service:
  name: report
  type: ClusterIP
  port: 9010

# These limits are set low to support small clusters (~10nodes) and should be considered minimum values for deploying an agent.
# Estimates for later clusters are roughly:
# ~2CPU/1000node
# ~1MB/node
# ~16KB/container
# ie: 100 node cluster with 3000 containers (10 pods per node, 3 containers per pod) would be approximately 150MB and 200mCPU
# These are estimates and will vary based on node density, label usage, cluster activity, etc.
# Agent should reach an approximate steady state after about 1hour of uptime and can be tuned accordingly after the fact.
resources:
  limits:
    cpu: 100m
    memory: 50Mi
  requests:
    cpu: 100m
    memory: 50Mi


imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""


serviceAccount:
  annotations: {}
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ""

clusterRole:
  annotations: {}
clusterRoleBinding:
  annotations: {}

podAnnotations: {}
podSecurityContext: {}
securityContext: {}
nodeSelector: {}
tolerations: []
affinity: {}
